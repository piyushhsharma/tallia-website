(() => {
    function e() {
        return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (e => (e ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> e / 4).toString(16)))
    }

    function t(e) {
        var t, a, o = window.location.search.substring(1).split("&");
        for (a = 0; a < o.length; a++)
            if ((t = o[a].split("="))[0] === e) return void 0 === t[1] || decodeURIComponent(t[1]);
        return !1
    }

    function a(e) {
        const t = document.cookie.split(";").reduce(((e, t) => {
                const [a, o] = t.split("=");
                return a && o && (e[a.trim()] = o), e
            }), {}),
            a = t["cookieyes-consent"] || t.wt_consent;
        if (!a) return;
        const {
            [e]: o
        } = a.split(",").reduce(((e, t) => {
            const [a, o] = t.split(":");
            return a && o && (e[a] = o), e
        }), {});
        return o
    }! function(o, n) {
        n.debug && console.log("PYS:", n);
        var i = {};
        var r = "";
        n.hasOwnProperty("track_cookie_for_subdomains") && n.track_cookie_for_subdomains && (r = function(e = !1) {
            const t = window.location.hostname;
            if ("undefined" == typeof tldjs) return console.warn("tldjs is not defined"), t;
            const a = tldjs.getDomain(t);
            return a ? e ? "." + a : a : t
        }(!0));
        var s = {
                isEnabled: function() {},
                disable: function() {},
                loadPixel: function() {},
                fireEvent: function(e, t) {
                    return !1
                },
                onCommentEvent: function() {},
                onDownloadEvent: function(e) {},
                onFormEvent: function(e) {},
                onWooAddToCartOnButtonEvent: function(e) {},
                onWooAddToCartOnSingleEvent: function(e, t, a, o, n) {},
                onWooRemoveFromCartEvent: function(e) {},
                onEddAddToCartOnButtonEvent: function(e, t, a) {},
                onEddRemoveFromCartEvent: function(e) {},
                onPageScroll: function(e) {},
                onTime: function(e) {}
            },
            c = {
                isEnabled: function() {},
                disable: function() {},
                loadPixel: function() {},
                fireEvent: function(e, t) {
                    return !1
                },
                onAdSenseEvent: function() {},
                onClickEvent: function(e) {},
                onWatchVideo: function(e) {},
                onCommentEvent: function() {},
                onFormEvent: function(e) {},
                onDownloadEvent: function(e) {},
                onWooAddToCartOnButtonEvent: function(e) {},
                onWooAddToCartOnSingleEvent: function(e, t, a, o, n) {},
                onWooRemoveFromCartEvent: function(e) {},
                onWooAffiliateEvent: function(e) {},
                onWooPayPalEvent: function() {},
                onEddAddToCartOnButtonEvent: function(e, t, a) {},
                onEddRemoveFromCartEvent: function(e) {},
                onPageScroll: function(e) {},
                onTime: function(e) {}
            },
            d = function(t) {
                var n = s,
                    u = c,
                    f = !1;
                let m = function() {
                    if (void 0 === Cookies.get("pys_start_session") || void 0 === Cookies.get("pys_session_limit")) return firstVisit = !0, !0;
                    return !1
                }();
                var g = ["utm_source", "utm_medium", "utm_campaign", "utm_term", "utm_content"],
                    y = ["fbadid", "gadid", "padid", "bingid"];

                function v() {
                    t.gdpr.all_disabled_by_api || (t.gdpr.facebook_disabled_by_api || _.loadPixel(), t.gdpr.analytics_disabled_by_api || l.loadPixel(), t.gdpr.analytics_disabled_by_api || p.loadPixel(), t.gdpr.pinterest_disabled_by_api || n.loadPixel(), t.gdpr.bing_disabled_by_api || u.loadPixel()), t.gdpr.consent_magic_integration_enabled && "undefined" != typeof CS_Data && void 0 !== CS_Data.cs_google_analytics_consent_mode && 1 == CS_Data.cs_google_analytics_consent_mode && l.loadPixel()
                }

                function b() {
                    try {
                        let a, o = document.referrer.toString(),
                            n = 0 === o.length,
                            i = !n && 0 === o.indexOf(t.siteUrl);
                        return a = !1 === (!n && !i) ? "direct" : o, "direct" !== a ? -1 !== (e = (e = a).replace(/(https?:\/\/)?(www.)?/i, "")).indexOf("/") ? e.split("/")[0] : e : a
                    } catch (e) {
                        return console.error(e), "direct"
                    }
                    var e
                }

                function h() {
                    let e = "pys_landing_page";
                    return "last_visit" === t.visit_data_model && (e = "last_pys_landing_page"), Cookies.get(e) && "undefined" !== Cookies.get(e) ? Cookies.get(e) : t.hasOwnProperty("tracking_analytics") && t.tracking_analytics.TrafficLanding ? t.tracking_analytics.TrafficLanding : ""
                }

                function k() {
                    let e = "pysTrafficSource";
                    return "last_visit" === t.visit_data_model && (e = "last_pysTrafficSource"), Cookies.get(e) && "undefined" !== Cookies.get(e) ? Cookies.get(e) : t.hasOwnProperty("tracking_analytics") && t.tracking_analytics.TrafficSource ? t.tracking_analytics.TrafficSource : ""
                }

                function w(e = !1) {
                    try {
                        let a = "pys_",
                            n = [];
                        return e && (a = "last_pys_"), o.each(y, (function(e, o) {
                            Cookies.get(a + o) ? n[o] = Cookies.get(a + o) : t.hasOwnProperty("tracking_analytics") && t.tracking_analytics.TrafficUtmsId[o] && (n[o] = P(t.tracking_analytics.TrafficUtmsId[o]))
                        })), n
                    } catch (e) {
                        return console.error(e), []
                    }
                }

                function C(e = !1) {
                    try {
                        let a = "pys_";
                        e && (a = "last_pys_");
                        let n = [];
                        return o.each(g, (function(e, o) {
                            if (Cookies.get(a + o)) {
                                let e = Cookies.get(a + o);
                                n[o] = P(e)
                            } else t.hasOwnProperty("tracking_analytics") && t.tracking_analytics.TrafficUtms[o] && (n[o] = P(t.tracking_analytics.TrafficUtms[o]))
                        })), n
                    } catch (e) {
                        return console.error(e), []
                    }
                }

                function P(e) {
                    return /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e) ? void 0 : e
                }
                return {
                    PRODUCT_SIMPLE: 0,
                    PRODUCT_VARIABLE: 1,
                    PRODUCT_BUNDLE: 2,
                    PRODUCT_GROUPED: 3,
                    utmTerms: g,
                    utmId: y,
                    fireEventForAllPixel: function(e, t) {
                        t.hasOwnProperty(_.tag()) && _[e](t[_.tag()]), t.hasOwnProperty(l.tag()) && l[e](t[l.tag()]), t.hasOwnProperty(n.tag()) && n[e](t[n.tag()]), t.hasOwnProperty(u.tag()) && u[e](t[u.tag()]), t.hasOwnProperty(p.tag()) && p[e](t[p.tag()])
                    },
                    setupPinterestObject: function() {
                        return n = window.pys.Pinterest || n
                    },
                    setupBingObject: function() {
                        return u = window.pys.Bing || u
                    },
                    copyProperties: function(e, t) {
                        for (var a in e) "function" != typeof e[a] && (t[a] = e[a]);
                        return t
                    },
                    manageCookies: function() {
                        if (t.gdpr.cookiebot_integration_enabled && "undefined" != typeof Cookiebot && !1 === Cookiebot.consented && !Cookiebot.consent.marketing && !Cookiebot.consent.statistics) return;
                        let e = !1;
                        if (t.gdpr.consent_magic_integration_enabled && void 0 !== window.CS_Data && 1 == window.CS_Data.cs_refresh_after_consent && void 0 === Cookies.get("cs_viewed_cookie_policy") && (e = !0), !e && m && !t.cookie.disabled_all_cookie && !t.cookie.disabled_start_session_cookie) {
                            let e = 6e4 * t.last_visit_duration;
                            var a = new Date;
                            a.setTime(a.getTime() + e), Cookies.set("pys_session_limit", !0, {
                                expires: a,
                                path: "/",
                                domain: r
                            }), Cookies.set("pys_start_session", !0, {
                                path: "/",
                                domain: r
                            })
                        }
                        if (t.ajaxForServerEvent && !Cookies.get("pbid") && _.isEnabled()) jQuery.ajax({
                            url: t.ajaxUrl,
                            dataType: "json",
                            data: {
                                action: "pys_get_pbid"
                            },
                            success: function(e) {
                                if (e.data && 0 != e.data.pbid && t.send_external_id) {
                                    if (!t.cookie.disabled_all_cookie && !t.cookie.externalID_disabled_by_api) {
                                        var a = parseInt(t.external_id_expire || 180);
                                        Cookies.set("pbid", e.data.pbid, {
                                            expires: a,
                                            path: "/",
                                            domain: r
                                        })
                                    }
                                    t.hasOwnProperty("facebook") && (t.facebook.advancedMatching = { ...t.facebook.advancedMatching,
                                        external_id: e.data.pbid
                                    })
                                }
                            }
                        });
                        else if (Cookies.get("pbid") && _.isEnabled() && _.advancedMatching() && _.advancedMatching().external_id && !t.cookie.disabled_all_cookie && !t.cookie.externalID_disabled_by_api) {
                            let e = parseInt(t.external_id_expire || 180);
                            Cookies.set("pbid", _.advancedMatching().external_id, {
                                expires: e,
                                path: "/",
                                domain: r
                            })
                        }
                        let n = parseInt(t.cookie_duration),
                            i = function() {
                                try {
                                    var e = {},
                                        t = [];
                                    return window.location.search.substr(1).split("&").forEach((function(a) {
                                        (t = a.split("=")).length > 1 && (e[t[0]] = t[1])
                                    })), e
                                } catch (e) {
                                    return console.error(e), {}
                                }
                            }(),
                            s = window.location.href.split("?")[0];
                        try {
                            void 0 !== Cookies.get("pys_first_visit") || t.cookie.disabled_all_cookie || (t.cookie.disabled_first_visit_cookie ? Cookies.remove("pys_first_visit") : Cookies.set("pys_first_visit", !0, {
                                expires: n,
                                path: "/",
                                domain: r
                            }), t.cookie.disabled_trafficsource_cookie ? Cookies.remove("pysTrafficSource") : Cookies.set("pysTrafficSource", b(), {
                                expires: n,
                                path: "/",
                                domain: r
                            }), t.cookie.disabled_landing_page_cookie ? Cookies.remove("pys_landing_page") : Cookies.set("pys_landing_page", s, {
                                expires: n,
                                path: "/",
                                domain: r
                            }), t.cookie.disabled_utmTerms_cookie ? o.each(g, (function(e, t) {
                                Cookies.remove("pys_" + t)
                            })) : o.each(g, (function(e, t) {
                                i.hasOwnProperty(t) ? Cookies.set("pys_" + t, i[t], {
                                    expires: n,
                                    path: "/",
                                    domain: r
                                }) : Cookies.remove("pys_" + t)
                            })), t.cookie.disabled_utmId_cookie ? o.each(y, (function(e, t) {
                                Cookies.remove("pys_" + t)
                            })) : o.each(y, (function(e, t) {
                                i.hasOwnProperty(t) ? Cookies.set("pys_" + t, i[t], {
                                    expires: n,
                                    path: "/",
                                    domain: r
                                }) : Cookies.remove("pys_" + t)
                            }))), m && !t.cookie.disabled_all_cookie && (t.cookie.disabled_trafficsource_cookie ? Cookies.remove("last_pysTrafficSource") : Cookies.set("last_pysTrafficSource", b(), {
                                expires: n,
                                path: "/",
                                domain: r
                            }), t.cookie.disabled_landing_page_cookie ? Cookies.remove("last_pys_landing_page") : Cookies.set("last_pys_landing_page", s, {
                                expires: n,
                                path: "/",
                                domain: r
                            }), t.cookie.disabled_utmTerms_cookie ? o.each(g, (function(e, t) {
                                Cookies.remove("last_pys_" + t)
                            })) : o.each(g, (function(e, t) {
                                i.hasOwnProperty(t) ? Cookies.set("last_pys_" + t, i[t], {
                                    expires: n,
                                    path: "/",
                                    domain: r
                                }) : Cookies.remove("last_pys_" + t)
                            })), t.cookie.disabled_utmId_cookie ? o.each(y, (function(e, t) {
                                Cookies.remove("last_pys_" + t)
                            })) : o.each(y, (function(e, t) {
                                i.hasOwnProperty(t) ? Cookies.set("last_pys_" + t, i[t], {
                                    expires: n,
                                    path: "/",
                                    domain: r
                                }) : Cookies.remove("last_pys_" + t)
                            }))), t.cookie.disabled_start_session_cookie && (Cookies.remove("pys_start_session"), Cookies.remove("pys_session_limit")), t.cookie.disabled_all_cookie && (Cookies.remove("pys_first_visit"), Cookies.remove("pysTrafficSource"), Cookies.remove("pys_landing_page"), Cookies.remove("last_pys_landing_page"), Cookies.remove("last_pysTrafficSource"), Cookies.remove("pys_start_session"), Cookies.remove("pys_session_limit"), o.each(d.utmTerms, (function(e, t) {
                                Cookies.remove("pys_" + t)
                            })), o.each(d.utmId, (function(e, t) {
                                Cookies.remove("pys_" + t)
                            })), o.each(d.utmTerms, (function(e, t) {
                                Cookies.remove("last_pys_" + t)
                            })), o.each(d.utmId, (function(e, t) {
                                Cookies.remove("last_pys_" + t)
                            })))
                        } catch (e) {
                            console.error(e)
                        }
                    },
                    generateUniqueId: function(a) {
                        if (0 == a.eventID.length || "static" == a.type && t.ajaxForServerStaticEvent || "static" !== a.type && t.ajaxForServerEvent) {
                            let t = a.hasOwnProperty("custom_event_post_id") ? a.custom_event_post_id : a.e_id;
                            return i.hasOwnProperty(t) || (i[t] = e()), i[t]
                        }
                        if (0 !== a.eventID.length) return a.eventID
                    },
                    flattenObject: function(e, t = "", a = {}) {
                        for (const [o, n] of Object.entries(e)) {
                            const i = t ? (Array.isArray(e), `${t}[${o}]`) : o;
                            null === n || "object" != typeof n || n instanceof File ? a[i] = n : this.flattenObject(n, i, a)
                        }
                        return a
                    },
                    sendServerAjaxRequest: function(e, a) {
                        if ("pys_api_event" === a.action && "facebook" === a.pixel && window.pysFacebookRest) this.sendRestAPIRequest(a, "facebook");
                        else {
                            if (t.useSendBeacon && navigator.sendBeacon) try {
                                const t = this.flattenObject(a),
                                    o = new URLSearchParams;
                                for (const [e, a] of Object.entries(t)) null != a && o.append(e, a);
                                if (navigator.sendBeacon(e, o)) return
                            } catch (e) {
                                t.debug && console.log("PYS: sendBeacon failed, falling back to jQuery.ajax:", e)
                            }
                            jQuery.ajax({
                                type: "POST",
                                url: e,
                                data: a,
                                headers: {
                                    "Cache-Control": "no-cache"
                                },
                                success: function() {}
                            })
                        }
                    },
                    sendRestAPIRequest: function(e, a) {
                        let o;
                        if ("facebook" !== a) return console.error("PYS: Unknown platform for REST API:", a), void this.sendAjaxFallback(e);
                        o = window.pysFacebookRest ? window.pysFacebookRest.restApiUrl : "/wp-json/pys-facebook/v1/event";
                        const n = {
                            event: e.event,
                            data: JSON.stringify(e.data || {}),
                            ids: JSON.stringify(e.ids || []),
                            eventID: e.event_id || e.eventID || "",
                            woo_order: e.woo_order || "0",
                            edd_order: e.edd_order || "0"
                        };
                        if (t.useSendBeacon && navigator.sendBeacon) try {
                            const e = new URLSearchParams;
                            for (const [t, a] of Object.entries(n)) e.append(t, a);
                            if (navigator.sendBeacon(o, e)) return
                        } catch (e) {}
                        if (window.fetch) {
                            fetch(o, {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json"
                                },
                                body: JSON.stringify(n)
                            }).then((e => {
                                if (!e.ok) throw new Error(a + " REST API request failed: " + e.status)
                            })).catch((o => {
                                t.debug && console.log("PYS: " + a + " REST API failed, falling back to AJAX:", o), this.sendAjaxFallback(e)
                            }))
                        } else this.sendAjaxFallback(e)
                    },
                    sendAjaxFallback: function(e) {
                        jQuery.ajax({
                            type: "POST",
                            url: t.ajaxUrl,
                            data: e,
                            headers: {
                                "Cache-Control": "no-cache"
                            },
                            success: function() {}
                        })
                    },
                    clone: function(e) {
                        var t;
                        if (null == e || "object" != typeof e) return e;
                        if (e instanceof Date) return (t = new Date).setTime(e.getTime()), t;
                        if (e instanceof Array) {
                            t = [];
                            for (var a = 0, o = e.length; a < o; a++) "function" != typeof e[a] && (t[a] = d.clone(e[a]));
                            return t
                        }
                        if (e instanceof Object) {
                            for (var n in t = {}, e)
                                if (e.hasOwnProperty(n)) {
                                    if ("function" == typeof e[n]) continue;
                                    t[n] = d.clone(e[n])
                                }
                            return t
                        }
                        return e
                    },
                    getTagsAsArray: function(e) {
                        return [].slice.call(document.getElementsByTagName(e))
                    },
                    getRequestParams: function() {
                        return []
                    },
                    setupMouseOverClickEvents: function(e, t) {
                        document.addEventListener("mouseover", (function(a) {
                            var o = Array.from(document.querySelectorAll(t)),
                                n = a.target,
                                i = n.closest(t);
                            if (o.includes(n) || i) {
                                if (a.target.classList.contains("pys-mouse-over-" + e)) return !0;
                                a.target.classList.add("pys-mouse-over-" + e), d.fireTriggerEvent(e)
                            }
                        }))
                    },
                    setupCSSClickEvents: function(e, t) {
                        document.addEventListener("click", (function(a) {
                            let o = Array.from(document.querySelectorAll(t)),
                                n = a.target,
                                i = n.closest(t);
                            (o.includes(n) || i) && d.fireTriggerEvent(e)
                        }), !0)
                    },
                    setupURLClickEvents: function() {
                        t.triggerEventTypes.hasOwnProperty("url_click") && o("a[data-pys-event-id]").onFirst("click", (function(e) {
                            o(this).attr("data-pys-event-id").split(",").forEach((function(e) {
                                e = parseInt(e), !1 === isNaN(e) && d.fireTriggerEvent(e)
                            }))
                        }))
                    },
                    setupScrollPosEvents: function(e, t) {
                        var a = {},
                            n = o(document).height() - o(window).height();
                        o.each(t, (function(t, o) {
                            o = n * o / 100, o = Math.round(o), a[o] = e
                        })), o(document).on("scroll", (function() {
                            var e = o(window).scrollTop();
                            o.each(a, (function(t, o) {
                                return e <= t || (null === o || (a[t] = null, void d.fireTriggerEvent(o)))
                            }))
                        }))
                    },
                    setupCommentEvents: function(e, t) {
                        o("form.comment-form").on("submit", (function() {
                            d.fireTriggerEvent(e)
                        }))
                    },
                    fireTriggerEvent: function(e) {
                        if (t.triggerEvents.hasOwnProperty(e)) {
                            var a = {},
                                o = t.triggerEvents[e];
                            o.hasOwnProperty("facebook") && (a = o.facebook, _.fireEvent(a.name, a)), o.hasOwnProperty("ga") && (a = o.ga, l.fireEvent(a.name, a)), o.hasOwnProperty("pinterest") && (a = o.pinterest, n.fireEvent(a.name, a)), o.hasOwnProperty("bing") && (a = o.bing, u.fireEvent(a.name, a)), o.hasOwnProperty("gtm") && (a = o.gtm, p.fireEvent(a.name, a))
                        }
                    },
                    fireStaticEvents: function(e) {
                        t.staticEvents.hasOwnProperty(e) && o.each(t.staticEvents[e], (function(t, a) {
                            o.each(a, (function(t, a) {
                                if (a.fired = a.fired || !1, !a.fired) {
                                    var o = !1;
                                    "facebook" === e ? o = _.fireEvent(a.name, a) : "ga" === e ? o = l.fireEvent(a.name, a) : "pinterest" === e ? o = n.fireEvent(a.name, a) : "bing" === e ? o = u.fireEvent(a.name, a) : "gtm" === e && (o = p.fireEvent(a.name, a)), a.fired = o
                                }
                            }))
                        }))
                    },
                    loadGoogleTag: function(e) {
                        if (!f) {
                            let a = this.dataLayerName;
                            if (t.hasOwnProperty("GATags")) switch (t.GATags.ga_datalayer_type) {
                                case "default":
                                    a = "dataLayerPYS";
                                    break;
                                case "custom":
                                    a = t.GATags.ga_datalayer_name;
                                    break;
                                default:
                                    a = "dataLayer"
                            }
                            if (this.dataLayerName = a, function(e, t, a) {
                                    var o = t.createElement("script"),
                                        n = t.getElementsByTagName("script")[0];
                                    o.async = 1, o.src = a, n.parentNode.insertBefore(o, n)
                                }(window, document, "//www.googletagmanager.com/gtag/js?id=" + e + "&l=" + this.dataLayerName), window[a] = window[a] || [], window.gtag = window.gtag || function() {
                                    window[a].push(arguments)
                                }, t.google_consent_mode) {
                                let e = {};
                                e.analytics_storage = t.gdpr.analytics_storage.enabled ? t.gdpr.analytics_storage.value : "granted", e.ad_storage = t.gdpr.ad_storage.enabled ? t.gdpr.ad_storage.value : "granted", e.ad_user_data = t.gdpr.ad_user_data.enabled ? t.gdpr.ad_user_data.value : "granted", e.ad_personalization = t.gdpr.ad_personalization.enabled ? t.gdpr.ad_personalization.value : "granted", this.loadDefaultConsent("consent", "default", e)
                            }
                            gtag("js", new Date), f = !0
                        }
                    },
                    loadDefaultConsent: function() {
                        window[this.dataLayerName].push(arguments)
                    },
                    loadGTMScript: function(e = "") {
                        const a = t.gtm.gtm_container_domain ? ? "www.googletagmanager.com",
                            o = t.gtm.gtm_container_identifier ? ? "gtm",
                            n = t.gtm.gtm_auth ? ? "",
                            i = t.gtm.gtm_preview ? ? "",
                            r = t.gtm.gtm_dataLayer_name ? ? "dataLayer";
                        if (window[r] = window[r] || [], window.gtag = window.gtag || function() {
                                window[r].push(arguments)
                            }, t.google_consent_mode) {
                            let e = {};
                            e.analytics_storage = t.gdpr.analytics_storage.enabled ? t.gdpr.analytics_storage.value : "granted", e.ad_storage = t.gdpr.ad_storage.enabled ? t.gdpr.ad_storage.value : "granted", e.ad_user_data = t.gdpr.ad_user_data.enabled ? t.gdpr.ad_user_data.value : "granted", e.ad_personalization = t.gdpr.ad_personalization.enabled ? t.gdpr.ad_personalization.value : "granted", this.GTMdataLayerName = r, this.loadDefaultGTMConsent("consent", "default", e)
                        }! function(e, t, r, s, c) {
                            e[s] = e[s] || [], e[s].push({
                                "gtm.start": (new Date).getTime(),
                                event: "gtm.js"
                            });
                            const d = t.getElementsByTagName(r)[0],
                                _ = t.createElement(r),
                                l = "dataLayer" !== s ? "&l=" + s : "";
                            _.async = !0, _.src = "https://" + a + "/" + o + ".js?id=" + c + l, n && i && (_.src += "&gtm_auth=" + n + "&gtm_preview=" + i + "&gtm_cookies_win=x"), d.parentNode.insertBefore(_, d)
                        }(window, document, "script", r, e)
                    },
                    loadDefaultGTMConsent: function() {
                        window[this.GTMdataLayerName].push(arguments)
                    },
                    loadPixels: function() {
                        t.gdpr.ajax_enabled && !t.gdpr.consent_magic_integration_enabled ? o.get({
                            url: t.ajaxUrl,
                            dataType: "json",
                            data: {
                                action: "pys_get_gdpr_filters_values"
                            },
                            success: function(e) {
                                e.success && (t.gdpr.all_disabled_by_api = e.data.all_disabled_by_api, t.gdpr.facebook_disabled_by_api = e.data.facebook_disabled_by_api, t.gdpr.analytics_disabled_by_api = e.data.analytics_disabled_by_api, t.gdpr.google_ads_disabled_by_api = e.data.google_ads_disabled_by_api, t.gdpr.pinterest_disabled_by_api = e.data.pinterest_disabled_by_api, t.gdpr.bing_disabled_by_api = e.data.bing_disabled_by_api, t.cookie.externalID_disabled_by_api = e.data.externalID_disabled_by_api, t.cookie.disabled_all_cookie = e.data.disabled_all_cookie, t.cookie.disabled_advanced_form_data_cookie = e.data.disabled_advanced_form_data_cookie, t.cookie.disabled_landing_page_cookie = e.data.disabled_landing_page_cookie, t.cookie.disabled_first_visit_cookie = e.data.disabled_first_visit_cookie, t.cookie.disabled_trafficsource_cookie = e.data.disabled_trafficsource_cookie, t.cookie.disabled_utmTerms_cookie = e.data.disabled_utmTerms_cookie, t.cookie.disabled_utmId_cookie = e.data.disabled_utmId_cookie), v()
                            }
                        }) : v()
                    },
                    consentGiven: function(e) {
                        if (t.gdpr.consent_magic_integration_enabled && "undefined" != typeof CS_Data) {
                            let t = CS_Data.test_prefix;
                            if (void 0 !== CS_Data.cs_google_consent_mode_enabled && 1 == CS_Data.cs_google_consent_mode_enabled && ("analytics" == e || "google_ads" == e) || void 0 !== CS_Data.cs_meta_ldu_mode && CS_Data.cs_meta_ldu_mode && "facebook" == e || void 0 !== CS_Data.cs_bing_consent_mode && CS_Data.cs_bing_consent_mode.ad_storage.enabled && "bing" == e) return !!(0 == CS_Data.cs_cache_enabled || 1 == CS_Data.cs_cache_enabled && window.CS_Cache && window.CS_Cache.check_status);
                            if ("facebook" == e && (0 == CS_Data.cs_script_cat.facebook || CS_Data.cs_script_cat.facebook == CS_Data.cs_necessary_cat_id)) return !0;
                            if ("bing" == e && (0 == CS_Data.cs_script_cat.bing || CS_Data.cs_script_cat.bing == CS_Data.cs_necessary_cat_id)) return !0;
                            if ("analytics" == e && (0 == CS_Data.cs_script_cat.analytics || CS_Data.cs_script_cat.analytics == CS_Data.cs_necessary_cat_id)) return !0;
                            if ("google_ads" == e && (0 == CS_Data.cs_script_cat.gads || CS_Data.cs_script_cat.gads == CS_Data.cs_necessary_cat_id)) return !0;
                            if ("pinterest" == e && (0 == CS_Data.cs_script_cat.pinterest || CS_Data.cs_script_cat.pinterest == CS_Data.cs_necessary_cat_id)) return !0;
                            if ("tiktok" == e && (0 == CS_Data.cs_script_cat.tiktok || CS_Data.cs_script_cat.tiktok == CS_Data.cs_necessary_cat_id)) return !0;
                            let a = "cs_enabled_cookie_term",
                                o = document.cookie.split(";");
                            for (let n = 1; n <= o.length; n++)
                                if (-1 !== o[n - 1].indexOf(a)) {
                                    let a = o[n - 1].replace("cs_enabled_cookie_term" + t + "_", "");
                                    a = Number(a.replace(/\D+/g, ""));
                                    let i = Cookies.get("cs_enabled_cookie_term" + t + "_" + a);
                                    if (a === CS_Data.cs_script_cat.facebook && "facebook" == e) return "yes" == i;
                                    if (a === CS_Data.cs_script_cat.bing && "bing" == e) return "yes" == i;
                                    if (a === CS_Data.cs_script_cat.analytics && "analytics" == e) return "yes" == i;
                                    if (a === CS_Data.cs_script_cat.gads && "google_ads" == e) return "yes" == i;
                                    if (a === CS_Data.cs_script_cat.pinterest && "pinterest" == e) return "yes" == i;
                                    if (a === CS_Data.cs_script_cat.tiktok && "tiktok" == e) return "yes" == i
                                }
                            return !1
                        }
                        if (t.gdpr.real_cookie_banner_integration_enabled) {
                            var o = window.consentApi;
                            if (o) switch (e) {
                                case "analytics":
                                    return o.consentSync("http", "_ga", "*").cookieOptIn;
                                case "facebook":
                                    return o.consentSync("http", "_fbp", "*").cookieOptIn;
                                case "pinterest":
                                    return o.consentSync("http", "_pinterest_sess", ".pinterest.com").cookieOptIn;
                                default:
                                    return !0
                            }
                        }
                        if (t.gdpr.cookiebot_integration_enabled && "undefined" != typeof Cookiebot) {
                            var n = t.gdpr["cookiebot_" + e + "_consent_category"];
                            if (t.gdpr[e + "_prior_consent_enabled"]) {
                                if (!0 === Cookiebot.consented || Cookiebot.consent[n]) return !0
                            } else if (Cookiebot.consent[n]) return !0;
                            return !1
                        }
                        if (t.gdpr.cookie_notice_integration_enabled && "undefined" != typeof cnArgs) {
                            var i = Cookies.get(cnArgs.cookieName);
                            if (t.gdpr[e + "_prior_consent_enabled"]) {
                                if (void 0 === i || "true" === i) return !0
                            } else if ("true" === i) return !0;
                            return !1
                        }
                        if (t.gdpr.cookie_law_info_integration_enabled) {
                            var r = Cookies.get("cookieyes-consent") ? ? Cookies.get("wt_consent") ? ? Cookies.get("viewed_cookie_policy");
                            if (t.gdpr[e + "_prior_consent_enabled"]) {
                                if (void 0 === r) return !0;
                                if (!r || r !== Cookies.get("cookieyes-consent") && r !== Cookies.get("wt_consent")) {
                                    if (r && r === Cookies.get("viewed_cookie_policy") && "yes" === Cookies.get("viewed_cookie_policy")) return !0
                                } else if ("yes" === a("analytics")) return !0
                            } else if (!r || r !== Cookies.get("cookieyes-consent") && r !== Cookies.get("wt_consent")) {
                                if (r && r === Cookies.get("viewed_cookie_policy") && "yes" === Cookies.get("viewed_cookie_policy")) return !0
                            } else if ("yes" === a("analytics")) return !0;
                            return !1
                        }
                        return !0
                    },
                    setupGdprCallbacks: function() {
                        if (t.gdpr.consent_magic_integration_enabled && "undefined" != typeof CS_Data) {
                            let e = CS_Data.test_prefix,
                                t = !1,
                                a = "cs_enabled_cookie_term";
                            1 == CS_Data.cs_refresh_after_consent && (t = CS_Data.cs_refresh_after_consent);
                            let i = function() {
                                let t = document.cookie.split(";"),
                                    o = {
                                        facebook: !0,
                                        ga: !0,
                                        google_ads: !0,
                                        tiktok: !0,
                                        bing: !0,
                                        pinterest: !0,
                                        gtm: !0
                                    };
                                for (let i = 1; i <= t.length; i++)
                                    if (-1 !== t[i - 1].indexOf(a)) {
                                        let a = t[i - 1].replace("cs_enabled_cookie_term" + e + "_", "");
                                        a = Number(a.replace(/\D+/g, "")), "yes" == Cookies.get("cs_enabled_cookie_term" + e + "_" + a) ? ((a === CS_Data.cs_script_cat.facebook || void 0 !== CS_Data.cs_meta_ldu_mode && CS_Data.cs_meta_ldu_mode) && _.loadPixel(), (a === CS_Data.cs_script_cat.bing || void 0 !== CS_Data.cs_bing_consent_mode && CS_Data.cs_bing_consent_mode.ad_storage.enabled) && u.loadPixel(), (a === CS_Data.cs_script_cat.analytics || void 0 !== CS_Data.cs_google_analytics_consent_mode && 1 == CS_Data.cs_google_analytics_consent_mode) && l.loadPixel(), a === CS_Data.cs_script_cat.pinterest && n.loadPixel()) : (a !== CS_Data.cs_script_cat.facebook || void 0 !== CS_Data.cs_meta_ldu_mode && CS_Data.cs_meta_ldu_mode || (_.disable(), o.facebook = !1), a !== CS_Data.cs_script_cat.bing || void 0 !== CS_Data.cs_bing_consent_mode && CS_Data.cs_bing_consent_mode.ad_storage.enabled || (u.disable(), o.bing = !1), a !== CS_Data.cs_script_cat.analytics || void 0 !== CS_Data.cs_google_analytics_consent_mode && 0 != CS_Data.cs_google_analytics_consent_mode || (l.disable(), o.ga = !1, o.gtm = !1), a === CS_Data.cs_script_cat.pinterest && (n.disable(), o.pinterest = !1)), "yes" == Cookies.get("cs_enabled_advanced_matching") && _.loadPixel()
                                    }
                                d.setupGDPRData(o)
                            };
                            t || (i(), o(document).on("click", ".cs_action_btn", (function(e) {
                                e.preventDefault();
                                let t = {
                                        facebook: !0,
                                        ga: !0,
                                        bing: !0,
                                        pinterest: !0,
                                        gtm: !0
                                    },
                                    a = o(this).attr("data-cs_action");
                                "allow_all" === a ? (_.loadPixel(), u.loadPixel(), l.loadPixel(), n.loadPixel(), t.facebook = !0, t.bing = !0, t.ga = !0, t.pinterest = !0, t.gtm = !0, d.setupGDPRData(t)) : "disable_all" === a ? (void 0 !== CS_Data.cs_meta_ldu_mode && 0 != CS_Data.cs_meta_ldu_mode || (_.disable(), t.facebook = !1), void 0 !== CS_Data.cs_bing_consent_mode && 0 != CS_Data.cs_bing_consent_mode.ad_storage.enabled || (u.disable(), t.bing = !1), 0 != CS_Data.cs_google_analytics_consent_mode && void 0 !== CS_Data.cs_google_analytics_consent_mode || (l.disable(), t.ga = !1, t.gtm = !1), n.disable(), t.pinterest = !1, d.setupGDPRData(t)) : "cs_confirm" === a && i()
                            })))
                        }
                        if (t.gdpr.real_cookie_banner_integration_enabled) {
                            let e = window.consentApi;
                            if (e) {
                                e.consent("http", "_ga", "*").then(l.loadPixel.bind(l), l.disable.bind(l)), e.consent("http", "_fbp", "*").then(_.loadPixel.bind(_), _.disable.bind(_)), e.consent("http", "_pinterest_sess", ".pinterest.com").then(n.loadPixel.bind(n), n.disable.bind(n)), e.consent("http", "_uetsid", "*").then(u.loadPixel.bind(u), u.disable.bind(u));
                                let t = {
                                    facebook: !0,
                                    ga: !0,
                                    bing: !0,
                                    pinterest: !0,
                                    gtm: !0
                                };
                                e.consentSync("http", "_ga", "*").cookieOptIn || (t.ga = !1, t.gtm = !1), e.consentSync("http", "_fbp", "*").cookieOptIn || (t.facebook = !1), e.consentSync("http", "_pinterest_sess", ".pinterest.com").cookieOptIn || (t.pinterest = !1), e.consentSync("http", "_uetsid", "*").cookieOptIn || (t.bing = !1), d.setupGDPRData(t)
                            }
                        }
                        t.gdpr.cookiebot_integration_enabled && "undefined" != typeof Cookiebot && window.addEventListener("CookiebotOnConsentReady", (function() {
                            let e = {
                                facebook: !0,
                                ga: !0,
                                bing: !0,
                                pinterest: !0,
                                gtm: !0
                            };
                            d.manageCookies(), Cookiebot.consent.marketing && (_.loadPixel(), u.loadPixel(), n.loadPixel(), e.facebook = !0, e.bing = !0, e.pinterest = !0), Cookiebot.consent.statistics && (l.loadPixel(), e.ga = !0, e.gtm = !0), Cookiebot.consent.marketing || (_.disable(), n.disable(), u.disable(), e.facebook = !1, e.bing = !1, e.pinterest = !1), Cookiebot.consent.statistics || (l.disable(), e.ga = !1, e.gtm = !1), d.setupGDPRData(e)
                        })), t.gdpr.cookie_notice_integration_enabled && (o(document).onFirst("click", ".cn-set-cookie", (function() {
                            let e = {};
                            "accept" === o(this).data("cookie-set") ? (_.loadPixel(), l.loadPixel(), n.loadPixel(), u.loadPixel(), e = {
                                facebook: !0,
                                ga: !0,
                                bing: !0,
                                pinterest: !0,
                                gtm: !0
                            }) : (_.disable(), l.disable(), n.disable(), u.disable(), e = {
                                facebook: !1,
                                ga: !1,
                                bing: !1,
                                pinterest: !1,
                                gtm: !1
                            }), d.setupGDPRData(e)
                        })), o(document).onFirst("click", ".cn-revoke-cookie", (function() {
                            _.disable(), l.disable(), n.disable(), u.disable();
                            d.setupGDPRData({
                                facebook: !1,
                                ga: !1,
                                bing: !1,
                                pinterest: !1,
                                gtm: !1
                            })
                        }))), t.gdpr.cookie_law_info_integration_enabled && (o(document).onFirst("click", "#wt-cli-accept-all-btn,#cookie_action_close_header, .cky-btn-accept", (function() {
                            setTimeout((function() {
                                let e = Cookies.get("cookieyes-consent") ? ? Cookies.get("wt_consent") ? ? Cookies.get("viewed_cookie_policy");
                                void 0 !== e && (e === Cookies.get("cookieyes-consent") || e === Cookies.get("wt_consent") ? "yes" === a("analytics") && d.manageCookies() : e === Cookies.get("viewed_cookie_policy") && "yes" == e && d.manageCookies())
                            }), 1e3), _.loadPixel(), l.loadPixel(), n.loadPixel(), u.loadPixel();
                            d.setupGDPRData({
                                facebook: !0,
                                ga: !0,
                                bing: !0,
                                pinterest: !0,
                                gtm: !0
                            })
                        })), o(document).onFirst("click", "#cookie_action_close_header_reject, .cky-btn-reject", (function() {
                            _.disable(), l.disable(), n.disable(), u.disable();
                            d.setupGDPRData({
                                facebook: !1,
                                ga: !1,
                                bing: !1,
                                pinterest: !1,
                                gtm: !1
                            })
                        })))
                    },
                    setupGDPRData: function(e) {
                        e = window.btoa(JSON.stringify(e)), Cookies.set("pys_consent", e, {
                            expires: 365,
                            path: "/",
                            domain: r
                        })
                    },
                    getLinkExtension: function(e) {
                        return (e = (e = (e = e.substring(0, -1 === e.indexOf("#") ? e.length : e.indexOf("#"))).substring(0, -1 === e.indexOf("?") ? e.length : e.indexOf("?"))).substring(e.lastIndexOf("/") + 1, e.length)).length > 0 && -1 !== e.indexOf(".") ? e = e.substring(e.indexOf(".") + 1) : ""
                    },
                    getLinkFilename: function(e) {
                        return (e = (e = (e = e.substring(0, -1 === e.indexOf("#") ? e.length : e.indexOf("#"))).substring(0, -1 === e.indexOf("?") ? e.length : e.indexOf("?"))).substring(e.lastIndexOf("/") + 1, e.length)).length > 0 && -1 !== e.indexOf(".") ? e : ""
                    },
                    isCheckoutPage: function() {
                        return o("body").hasClass("woocommerce-checkout") || document.querySelector(".woocommerce-checkout") || o("body").hasClass("edd-checkout")
                    },
                    addCheckoutFields: function() {
                        var e = "",
                            t = C();
                        o.each(g, (function(a, o) {
                            a > 0 && (e += "|"), e += o + ":" + t[o]
                        }));
                        var a = "",
                            n = w();
                        o.each(y, (function(e, t) {
                            e > 0 && (a += "|"), a += t + ":" + n[t]
                        }));
                        var i = "",
                            r = w(!0);
                        o.each(y, (function(e, t) {
                            e > 0 && (i += "|"), i += t + ":" + r[t]
                        }));
                        var s = "",
                            c = C(!0);
                        o.each(g, (function(e, t) {
                            e > 0 && (s += "|"), s += t + ":" + c[t]
                        }));
                        var d = function() {
                                var e = new Array,
                                    t = new Date;
                                return e.push(["00-01", "01-02", "02-03", "03-04", "04-05", "05-06", "06-07", "07-08", "08-09", "09-10", "10-11", "11-12", "12-13", "13-14", "14-15", "15-16", "16-17", "17-18", "18-19", "19-20", "20-21", "21-22", "22-23", "23-24"][t.getHours()]), e.push(["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"][t.getDay()]), e.push(["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"][t.getMonth()]), e
                            }(),
                            _ = h(),
                            l = h(),
                            p = k(),
                            u = k(),
                            f = null;
                        f = o("body").hasClass("woocommerce-checkout") ? o("form.woocommerce-checkout") : o("#edd_purchase_form");
                        var m = {
                            pys_utm: e,
                            pys_utm_id: a,
                            pys_browser_time: d.join("|"),
                            pys_landing: _,
                            pys_source: p,
                            pys_order_type: o(".wcf-optin-form").length > 0 ? "wcf-optin" : "normal",
                            last_pys_landing: l,
                            last_pys_source: u,
                            last_pys_utm: s,
                            last_pys_utm_id: i
                        };
                        Object.keys(m).forEach((function(e, t) {
                            f.append("<input type='hidden' name='" + e + "' value='" + m[e] + "' /> ")
                        }))
                    },
                    getAdvancedFormData: function() {
                        let e = Cookies.get("pys_advanced_form_data");
                        return void 0 === e ? {
                            first_name: "",
                            last_name: "",
                            email: "",
                            phone: ""
                        } : JSON.parse(e)
                    }
                }
            }(n),
            _ = function(a) {
                var n = ["PageView", "ViewContent", "Search", "AddToCart", "AddToWishlist", "InitiateCheckout", "AddPaymentInfo", "Purchase", "Lead", "Subscribe", "CustomizeProduct", "FindLocation", "StartTrial", "SubmitApplication", "Schedule", "Contact", "Donate"],
                    i = !1,
                    s = a.gdpr.all_disabled_by_api || a.gdpr.facebook_disabled_by_api || a.gdpr.cookiebot_integration_enabled || a.gdpr.consent_magic_integration_enabled || a.gdpr.cookie_notice_integration_enabled || a.gdpr.cookie_law_info_integration_enabled;

                function c(e, t) {
                    if ("function" == typeof window.pys_event_data_filter && window.pys_disable_event_filter(e, "facebook")) return;
                    var o = n.includes(e) ? "track" : "trackCustom",
                        i = t.params,
                        r = {},
                        c = {};
                    d.copyProperties(i, r);
                    let l = function(e, t, o) {
                        let n = null;
                        if (a.facebook.serverApiEnabled) {
                            if ("woo_remove_from_cart" === e.e_id) _.updateEventId(e.name), e.eventID = _.getEventId(e.name);
                            else if (e.eventID = d.generateUniqueId(e), Cookies.get("_fbp") && (o._fbp = Cookies.get("_fbp")), Cookies.get("_fbc") && (o._fbc = Cookies.get("_fbc")), a.ajaxForServerEvent || s) {
                                var i = {
                                    action: "pys_api_event",
                                    pixel: "facebook",
                                    event: t,
                                    data: o,
                                    ids: a.facebook.pixelIds,
                                    eventID: e.eventID,
                                    url: window.location.href,
                                    ajax_event: a.ajax_event
                                };
                                e.hasOwnProperty("woo_order") && (i.woo_order = e.woo_order), e.hasOwnProperty("edd_order") && (i.edd_order = e.edd_order), "automatic_event_internal_link" === e.e_id || "automatic_event_outbound_link" === e.e_id ? setTimeout((() => d.sendServerAjaxRequest(a.ajaxUrl, i)), 500) : "static" != e.type && d.sendServerAjaxRequest(a.ajaxUrl, i), ("static" == e.type && a.ajaxForServerStaticEvent || e.hasOwnProperty("ajaxFire") && e.ajaxFire) && d.sendServerAjaxRequest(a.ajaxUrl, i)
                            }
                            delete o._fbp, delete o._fbc, n = e.eventID
                        }
                        return n
                    }(t, e, r);
                    "hCR" !== e && (a.debug && console.log("[Facebook] " + e, r, "eventID", l), null != l && (c.eventID = l), fbq(o, e, r, c))
                }
                return {
                    tag: function() {
                        return "facebook"
                    },
                    isEnabled: function() {
                        return a.hasOwnProperty("facebook")
                    },
                    disable: function() {
                        i = !1
                    },
                    advancedMatching: function() {
                        if (a.facebook.advancedMatchingEnabled) {
                            let e = d.getAdvancedFormData(),
                                t = {};
                            if (Object.keys(a.facebook.advancedMatching).length > 0 && (t = a.facebook.advancedMatching), !t.hasOwnProperty("em") && e.hasOwnProperty("email") && e.email.length > 0 && (t.em = e.email), !t.hasOwnProperty("ph") && e.hasOwnProperty("phone") && e.phone.length > 0 && (t.ph = e.phone), !t.hasOwnProperty("fn") && e.hasOwnProperty("first_name") && e.first_name.length > 0 && (t.fn = e.first_name), !t.hasOwnProperty("ln") && e.hasOwnProperty("last_name") && e.last_name.length > 0 && (t.ln = e.last_name), t.hasOwnProperty("external_id") ? t.external_id != Cookies.get("pbid") && (t.external_id = Cookies.get("pbid") ? Cookies.get("pbid") : t.external_id) : (Cookies.get("pbid") || a.hasOwnProperty("pbid") && a.pbid) && (t.external_id = Cookies.get("pbid") ? Cookies.get("pbid") : a.pbid), Object.keys(t).length > 0) return t
                        }
                        return !1
                    },
                    loadPixel: function() {
                        if (i || !this.isEnabled() || !d.consentGiven("facebook")) return;
                        var e, o, n, s, c, l;
                        e = window, o = document, n = "script", e.fbq || (s = e.fbq = function() {
                            s.callMethod ? s.callMethod.apply(s, arguments) : s.queue.push(arguments)
                        }, e._fbq || (e._fbq = s), s.push = s, s.loaded = !0, s.version = "2.0", s.agent = "dvpixelyoursite", s.queue = [], (c = o.createElement(n)).async = !0, c.src = "https://connect.facebook.net/en_US/fbevents.js", (l = o.getElementsByTagName(n)[0]).parentNode.insertBefore(c, l));
                        let p = parseInt(a.cookie_duration);
                        Cookies.get("_fbp") || Cookies.set("_fbp", Cookies.get("_fbp") ? Cookies.get("_fbp") : "fb.1." + Date.now() + "." + Math.floor(1e9 + 9e9 * Math.random()), {
                            expires: p,
                            path: "/",
                            domain: r
                        }), t("fbclid") && Cookies.set("_fbc", t("fbclid") ? "fb.1." + Date.now() + "." + t("fbclid") : "", {
                            expires: p,
                            path: "/",
                            domain: r
                        }), a.facebook.pixelIds.forEach((function(e) {
                            a.facebook.removeMetadata && fbq("set", "autoConfig", !1, e);
                            let t = _.advancedMatching();
                            if (1 == +a.facebook.meta_ldu && fbq("dataProcessingOptions", ["LDU"], 0, 0), a.gdpr.consent_magic_integration_enabled && "undefined" != typeof CS_Data)
                                if (t) {
                                    var o = CS_Data.test_prefix,
                                        n = Cookies.get("cs_enabled_advanced_matching" + o);
                                    jQuery("#cs_enabled_advanced_matching" + o).length > 0 ? "yes" == n ? fbq("init", e, t) : fbq("init", e) : fbq("init", e, t)
                                } else fbq("init", e);
                            else t ? fbq("init", e, t) : fbq("init", e)
                        })), i = !0, d.fireStaticEvents("facebook")
                    },
                    fireEvent: function(e, t) {
                        return !(!i || !this.isEnabled()) && (t.delay = t.delay || 0, t.params = t.params || {}, 0 === t.delay ? c(e, t) : setTimeout((function(e, t) {
                            c(e, t)
                        }), 1e3 * t.delay, e, t), !0)
                    },
                    onCommentEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onDownloadEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onFormEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onWooAddToCartOnButtonEvent: function(e) {
                        if (a.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var t = a.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()];
                            window.pysWooProductData = window.pysWooProductData || [], window.pysWooProductData.hasOwnProperty(e) && window.pysWooProductData[e].hasOwnProperty("facebook") && (t = d.copyProperties(t, {}), d.copyProperties(window.pysWooProductData[e].facebook.params, t.params), this.fireEvent(t.name, t))
                        }
                    },
                    onWooAddToCartOnSingleEvent: function(e, t, n, i) {
                        if (window.pysWooProductData = window.pysWooProductData || [], a.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var r = d.clone(a.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);
                            if (n !== d.PRODUCT_VARIABLE || a.facebook.wooVariableAsSimple || (e = parseInt(i.find('input[name="variation_id"]').val())), window.pysWooProductData.hasOwnProperty(e) && window.pysWooProductData[e].hasOwnProperty("facebook")) {
                                d.copyProperties(window.pysWooProductData[e].facebook.params, r.params);
                                var s = 0;
                                if (n === d.PRODUCT_GROUPED && (i.find(".woocommerce-grouped-product-list .qty").each((function(t) {
                                        var a = o(this).attr("name").replaceAll("quantity[", "").replaceAll("]", ""),
                                            n = parseInt(o(this).val());
                                        isNaN(n) && (n = 0);
                                        var i = window.pysWooProductData[e].facebook.grouped[a];
                                        0 == n && r.params.content_ids.forEach((function(e, t, a) {
                                            e == i.content_id && a.splice(t, 1)
                                        })), r.params.hasOwnProperty("contents") && r.params.contents.forEach((function(e, t, a) {
                                            e.id == i.content_id && (n > 0 ? e.quantity = n : a.splice(t, 1))
                                        })), s += i.price * n
                                    })), 0 == s)) return;
                                if (a.woo.addToCartOnButtonValueEnabled && "global" !== a.woo.addToCartOnButtonValueOption)
                                    if (n === d.PRODUCT_GROUPED) r.params.value = s;
                                    else if (n === d.PRODUCT_BUNDLE) {
                                    var c = o(".bundle_form .bundle_data").data("bundle_form_data"),
                                        _ = function(e) {
                                            var t = 0;
                                            return jQuery(".bundle_form .bundled_product").each((function(a) {
                                                var o = jQuery(this).find(".cart").data("bundled_item_id"),
                                                    n = e.prices[o],
                                                    i = jQuery(this).find(".bundled_qty").val();
                                                jQuery(this).hasClass("bundled_item_optional") && !jQuery(this).find(".bundled_product_optional_checkbox input").prop("checked") || (t += n * i)
                                            })), t
                                        }(c);
                                    r.params.value = (parseInt(c.base_price) + _) * t
                                } else r.params.value = r.params.value * t;
                                r.params.hasOwnProperty("contents") && n !== d.PRODUCT_GROUPED && (r.params.contents[0].quantity = t), this.fireEvent(r.name, r)
                            }
                        }
                    },
                    onWooRemoveFromCartEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onEddAddToCartOnButtonEvent: function(e, t, o) {
                        if (a.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var n, i = d.clone(a.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);
                            if (window.pysEddProductData.hasOwnProperty(e))
                                if (n = t ? e + "_" + t : e, window.pysEddProductData[e].hasOwnProperty(n) && window.pysEddProductData[e][n].hasOwnProperty("facebook")) {
                                    d.copyProperties(window.pysEddProductData[e][n].facebook.params, i.params), a.edd.addToCartOnButtonValueEnabled && "global" !== a.edd.addToCartOnButtonValueOption && (i.params.value = i.params.value * o);
                                    var r = i.params.contents;
                                    r[0].quantity = o, i.params.contents = r, this.fireEvent(i.name, i)
                                }
                        }
                    },
                    onEddRemoveFromCartEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onPageScroll: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onTime: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    initEventIdCookies: function(t) {
                        var a = {};
                        a[t] = e(), Cookies.set("pys_fb_event_id", JSON.stringify(a))
                    },
                    updateEventId: function(t) {
                        var a = Cookies.get("pys_fb_event_id");
                        if (void 0 === a) this.initEventIdCookies(t);
                        else {
                            var o = JSON.parse(a);
                            o[t] = e(), Cookies.set("pys_fb_event_id", JSON.stringify(o))
                        }
                    },
                    getEventId: function(e) {
                        var t = Cookies.get("pys_fb_event_id");
                        return void 0 === t && (this.initEventIdCookies(e), t = Cookies.get("pys_fb_event_id")), JSON.parse(t)[e]
                    },
                    sendFacebookRestAPIRequest: function(e, t, o) {
                        if (void 0 === window.pysFacebookRest || !window.pysFacebookRest.restApiUrl) return;
                        const n = {
                            event: t,
                            data: JSON.stringify(o),
                            ids: e.pixelIds || a.facebook.pixelIds,
                            eventID: e.eventID,
                            woo_order: e.woo_order || 0,
                            edd_order: e.edd_order || 0
                        };
                        if (navigator.sendBeacon) {
                            const e = new FormData;
                            if (Object.keys(n).forEach((t => {
                                    Array.isArray(n[t]) ? n[t].forEach((a => {
                                        e.append(t + "[]", a)
                                    })) : e.append(t, n[t])
                                })), navigator.sendBeacon(window.pysFacebookRest.restApiUrl, e)) return
                        }
                        fetch(window.pysFacebookRest.restApiUrl, {
                            method: "POST",
                            headers: {
                                "Content-Type": "application/x-www-form-urlencoded"
                            },
                            body: new URLSearchParams(n)
                        }).catch((() => {
                            this.sendAjaxFallback(e, t, o)
                        }))
                    },
                    sendAjaxFallback: function(e, t, o) {
                        var n = {
                            action: "pys_api_event",
                            pixel: "facebook",
                            event: t,
                            data: o,
                            ids: e.pixelIds || a.facebook.pixelIds,
                            eventID: e.eventID,
                            url: window.location.href,
                            ajax_event: a.ajax_event
                        };
                        e.hasOwnProperty("woo_order") && (n.woo_order = e.woo_order), e.hasOwnProperty("edd_order") && (n.edd_order = e.edd_order), d.sendServerAjaxRequest(a.ajaxUrl, n)
                    }
                }
            }(n),
            l = function(e) {
                var t = !1;

                function a(t, a) {
                    if ("function" != typeof window.pys_event_data_filter || !window.pys_disable_event_filter(t, "ga")) {
                        var o = d.copyProperties(a, {});
                        e.ga.trackingIds.forEach((function(a) {
                            var i = d.copyProperties(o, {}),
                                r = function(e, t, a) {
                                    delete a.landing_page, n(e) && (delete a.traffic_source, delete a.event_category, delete a.event_label, delete a.ecomm_prodid, delete a.ecomm_pagetype, delete a.ecomm_totalvalue, "search" === t && (a.search = a.search_term, delete a.search_term, delete a.dynx_itemid, delete a.dynx_pagetype, delete a.dynx_totalvalue));
                                    return a
                                }(a, t, i);
                            ! function(t, a, o) {
                                o.send_to = t, e.debug && console.log("[Google Analytics #" + t + "] " + a, o), gtag("event", a, o)
                            }(a, t, r)
                        }))
                    }
                }

                function n(e) {
                    return 0 === e.indexOf("G")
                }
                return {
                    tag: function() {
                        return "ga"
                    },
                    isEnabled: function() {
                        return e.hasOwnProperty("ga")
                    },
                    disable: function() {
                        t = !1
                    },
                    loadPixel: function() {
                        if (!t && this.isEnabled() && d.consentGiven("analytics")) {
                            d.loadGoogleTag(e.ga.trackingIds[0]);
                            e.ga.crossDomainEnabled && (e.ga.crossDomainAcceptIncoming, e.ga.crossDomainDomains), e.ga.trackingIds.forEach((function(t, a) {
                                var o = e.ga.isDebugEnabled,
                                    i = "index_" + a,
                                    r = Object.assign({}, e.config);
                                for (var s in r.debug_mode = !1, r.send_page_view = !e.ga.custom_page_view_event, o)
                                    if (o.hasOwnProperty(s) && o[s] === i) {
                                        r.debug_mode = !0;
                                        break
                                    }
                                if (r.debug_mode || delete r.debug_mode, n(t) && (e.ga.disableAdvertisingFeatures && (r.allow_google_signals = !1), e.ga.disableAdvertisingPersonalization && (r.allow_ad_personalization_signals = !1)), e.ga.hasOwnProperty("additionalConfig") && e.ga.additionalConfig.hasOwnProperty(t) && e.ga.additionalConfig[t] && (r.first_party_collection = e.ga.additionalConfig[t].first_party_collection), e.ga.hasOwnProperty("serverContainerUrls") && e.ga.serverContainerUrls.hasOwnProperty(t) && 0 != e.ga.serverContainerUrls[t].enable_server_container && ("" != e.ga.serverContainerUrls[t].server_container_url && (r.server_container_url = e.ga.serverContainerUrls[t].server_container_url), "" != e.ga.serverContainerUrls[t].transport_url && (r.transport_url = e.ga.serverContainerUrls[t].transport_url)), e.gdpr.cookiebot_integration_enabled && "undefined" != typeof Cookiebot) {
                                    var c = e.gdpr.cookiebot_analytics_consent_category;
                                    e.gdpr.analytics_prior_consent_enabled ? !0 === Cookiebot.consented && Cookiebot.consent[c] && gtag("config", t, r) : Cookiebot.consent[c] && gtag("config", t, r)
                                } else gtag("config", t, r)
                            })), t = !0, d.fireStaticEvents("ga")
                        }
                    },
                    fireEvent: function(e, o) {
                        return !(!t || !this.isEnabled()) && (o.delay = o.delay || 0, o.params = o.params || {}, o.params.eventID = d.generateUniqueId(o), 0 === o.delay ? a(e, o.params) : setTimeout((function(e, t) {
                            a(e, t)
                        }), 1e3 * o.delay, e, o.params), !0)
                    },
                    onCommentEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onDownloadEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onFormEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onWooAddToCartOnButtonEvent: function(t) {
                        if (e.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var a = d.clone(e.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);
                            window.pysWooProductData.hasOwnProperty(t) && window.pysWooProductData[t].hasOwnProperty("ga") && (d.copyProperties(window.pysWooProductData[t].ga.params, a.params), this.fireEvent(a.name, a))
                        }
                    },
                    onWooAddToCartOnSingleEvent: function(t, a, n, i) {
                        if (window.pysWooProductData = window.pysWooProductData || [], e.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var r = d.clone(e.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);
                            if (n !== d.PRODUCT_VARIABLE || e.ga.wooVariableAsSimple || (t = parseInt(i.find('input[name="variation_id"]').val())), window.pysWooProductData.hasOwnProperty(t) && window.pysWooProductData[t].hasOwnProperty("ga")) {
                                if (d.copyProperties(window.pysWooProductData[t].ga.params, r.params), n === d.PRODUCT_GROUPED) {
                                    var s = 0;
                                    if (i.find(".woocommerce-grouped-product-list .qty").each((function(e) {
                                            var a = o(this).attr("name").replaceAll("quantity[", "").replaceAll("]", ""),
                                                n = parseInt(o(this).val());
                                            isNaN(n) && (n = 0);
                                            var i = window.pysWooProductData[t].ga.grouped[a];
                                            r.params.items.forEach((function(e, t, a) {
                                                e.id == i.content_id && (n > 0 ? e.quantity = n : a.splice(t, 1))
                                            })), s += i.price * n
                                        })), e.woo.addToCartOnButtonValueEnabled && "global" !== e.woo.addToCartOnButtonValueOption && r.params.hasOwnProperty("ecomm_totalvalue") && (r.params.ecomm_totalvalue = s), 0 == s) return
                                } else r.params.items[0].quantity = a;
                                e.woo.addToCartOnButtonValueEnabled && "global" !== e.woo.addToCartOnButtonValueOption && n !== d.PRODUCT_GROUPED && r.params.hasOwnProperty("ecomm_totalvalue") && (r.params.ecomm_totalvalue = r.params.items[0].price * a), this.fireEvent(r.name, r)
                            }
                        }
                    },
                    onWooRemoveFromCartEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onEddAddToCartOnButtonEvent: function(t, a, o) {
                        if (e.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var n, i = d.clone(e.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);
                            if (window.pysEddProductData.hasOwnProperty(t)) n = a ? t + "_" + a : t, window.pysEddProductData[t].hasOwnProperty(n) && window.pysEddProductData[t][n].hasOwnProperty("ga") && (d.copyProperties(window.pysEddProductData[t][n].ga.params, i.params), i.params.items[0].quantity = o, this.fireEvent(i.name, i))
                        }
                    },
                    onEddRemoveFromCartEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onPageScroll: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onTime: function(e) {
                        this.fireEvent(e.name, e)
                    }
                }
            }(n),
            p = function(e) {
                var t = !1,
                    a = "dataLayer";

                function n(t, o) {
                    if ("function" != typeof window.pys_event_data_filter || !window.pys_disable_event_filter(t, "gtm")) {
                        var n = o.params,
                            r = (o.params, Object.values(o.trackingIds));
                        d.copyProperties(d.getRequestParams(), n);
                        var s = function(e, t, a) {
                            var o = !1;
                            Array.isArray(e) ? o = e.some((function(e) {
                                return i(e)
                            })) : i(e) && (o = !0);
                            o && (delete a.event_category, delete a.event_label, delete a.analytics_storage, delete a.ad_storage, delete a.ad_user_data, delete a.ad_personalization, "search" === t && (a.search = a.search_term, delete a.search_term, delete a.dynx_itemid, delete a.dynx_pagetype, delete a.dynx_totalvalue));
                            return a
                        }(r, t, d.copyProperties(n, {}));
                        s.event_id = d.generateUniqueId(o),
                            function(t, o, n, i = null) {
                                var r = {},
                                    s = !e.gtm.gtm_just_data_layer && t.length > 0;
                                if (s) n.send_to = t;
                                else if (!e.gtm.gtm_just_data_layer) return;
                                n.hasOwnProperty("ecommerce") && (r.ecommerce = n.ecommerce, delete n.ecommerce);
                                var c = { ...n
                                };
                                [n.manualName, "manualName", "triggerType"].forEach((e => delete c[e])), i && (!i.hasOwnProperty("hasAutoParam") || i.hasOwnProperty("hasAutoParam") && i.hasAutoParam) && (r.automatedParameters = c), n.hasOwnProperty(n.manualName) && (r[n.manualName] = n[n.manualName], delete n[n.manualName]), ["manualName", "triggerType"].forEach((e => {
                                    n.hasOwnProperty(e) && (r[e] = n[e], delete n[e])
                                })), r.manualDataLayer = e.gtm.gtm_dataLayer_name ? ? "dataLayer", r.event = o, e.debug && (s ? console.log("[Google GTM #" + t + "] " + o, r) : console.log('[Google GTM push to "' + a + '"] ' + o, r)), window[a].push(r)
                            }(r, t, s, o)
                    }
                }

                function i(e) {
                    return 0 === e.indexOf("GTM")
                }
                return {
                    tag: function() {
                        return "gtm"
                    },
                    isEnabled: function() {
                        return e.hasOwnProperty("gtm")
                    },
                    disable: function() {
                        t = !1
                    },
                    updateEnhancedConversionData: function() {
                        if (t && this.isEnabled() && e.hasOwnProperty("tracking_analytics") && e.tracking_analytics.hasOwnProperty("userDataEnable") && e.tracking_analytics.userDataEnable) {
                            var o = d.getAdvancedFormData();
                            Object.keys(o).length > 0 && window[a].push({
                                user_data: o
                            })
                        }
                    },
                    loadPixel: function() {
                        if (!t && this.isEnabled() && d.consentGiven("analytics")) {
                            a = e.gtm.gtm_dataLayer_name ? ? "dataLayer";
                            for (var o = 0; o < e.gtm.trackingIds.length; o++) {
                                var n = e.gtm.trackingIds[o];
                                if (!e.gtm.gtm_just_data_layer) {
                                    console.log("[PYS] Google Tag Manager container code loaded"), d.loadGTMScript(n);
                                    break
                                }
                            }
                            if (e.gtm.gtm_just_data_layer && (console.warn && console.warn("[PYS] Google Tag Manager container code placement set to OFF !!!"), console.warn && console.warn("[PYS] Data layer codes are active but GTM container must be loaded using custom coding !!!"), 0 == e.gtm.trackingIds.length && d.loadGTMScript()), e.hasOwnProperty("tracking_analytics") && e.tracking_analytics.hasOwnProperty("userDataEnable") && e.tracking_analytics.userDataEnable) {
                                var i = d.getAdvancedFormData();
                                Object.keys(i).length > 0 && window[a].push({
                                    user_data: i
                                })
                            }
                            e.user_id && 0 != e.user_id && e.user_id;
                            e.gtm.trackingIds;
                            t = !0, d.fireStaticEvents("gtm")
                        }
                    },
                    fireEvent: function(e, a) {
                        return !(!t || !this.isEnabled()) && (a.delay = a.delay || 0, a.params = a.params || {}, 0 === a.delay ? n(e, a) : setTimeout((function(e, t) {
                            n(e, t)
                        }), 1e3 * a.delay, e, a), !0)
                    },
                    onCommentEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onDownloadEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onFormEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onWooAddToCartOnButtonEvent: function(t, a = null) {
                        if (e.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var o = d.clone(e.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);
                            window.pysWooProductData.hasOwnProperty(t) && window.pysWooProductData[t].hasOwnProperty("gtm") && (d.copyProperties(window.pysWooProductData[t].gtm.params, o.params), this.fireEvent(o.name, o))
                        }
                    },
                    onWooAddToCartOnSingleEvent: function(t, a, n, i, r, s) {
                        if (window.pysWooProductData = window.pysWooProductData || [], e.dynamicEvents.woo_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var c = d.clone(e.dynamicEvents.woo_add_to_cart_on_button_click[this.tag()]);
                            if (n !== d.PRODUCT_VARIABLE || e.gtm.wooVariableAsSimple || (t = parseInt(r.find('input[name="variation_id"]').val())), window.pysWooProductData.hasOwnProperty(t) && window.pysWooProductData[t].hasOwnProperty("gtm")) {
                                if (d.copyProperties(window.pysWooProductData[t].gtm.params, c.params), params = c.params.hasOwnProperty("ecommerce") ? c.params.ecommerce : c.params, n === d.PRODUCT_GROUPED) {
                                    var _ = 0;
                                    if (r.find(".woocommerce-grouped-product-list .qty").each((function(e) {
                                            var a = o(this).attr("name").replaceAll("quantity[", "").replaceAll("]", ""),
                                                n = parseInt(o(this).val());
                                            isNaN(n) && (n = 0);
                                            var i = window.pysWooProductData[t].gtm.grouped[a];
                                            params.items.forEach((function(e, t, a) {
                                                e.id == i.content_id && (n > 0 ? (e.quantity = n, e.price = i.price) : a.splice(t, 1))
                                            })), _ += i.price * n
                                        })), e.woo.addToCartOnButtonValueEnabled && "global" !== e.woo.addToCartOnButtonValueOption && params.hasOwnProperty("value") && (params.value = _), 0 == _) return
                                } else params.items[0].quantity = a;
                                e.woo.addToCartOnButtonValueEnabled && "global" !== e.woo.addToCartOnButtonValueOption && n !== d.PRODUCT_GROUPED && params.hasOwnProperty("value") && (params.value = params.items[0].price * a), this.fireEvent(c.name, c)
                            }
                        }
                    },
                    onWooRemoveFromCartEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onEddAddToCartOnButtonEvent: function(t, a, o) {
                        if (e.dynamicEvents.edd_add_to_cart_on_button_click.hasOwnProperty(this.tag())) {
                            var n, i = d.clone(e.dynamicEvents.edd_add_to_cart_on_button_click[this.tag()]);
                            if (window.pysEddProductData.hasOwnProperty(t)) n = a ? t + "_" + a : t, window.pysEddProductData[t].hasOwnProperty(n) && window.pysEddProductData[t][n].hasOwnProperty("gtm") && (d.copyProperties(window.pysEddProductData[t][n].gtm.params, i.params), item = i.params.hasOwnProperty("ecommerce") ? i.params.ecommerce.items[0] : i.params.items[0], item.quantity = o, this.fireEvent(i.name, i))
                        }
                    },
                    onEddRemoveFromCartEvent: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onPageScroll: function(e) {
                        this.fireEvent(e.name, e)
                    },
                    onTime: function(e) {
                        this.fireEvent(e.name, e)
                    }
                }
            }(n),
            u = function(e) {
                switch (e) {
                    case "facebook":
                        return window.pys.Facebook;
                    case "ga":
                        return window.pys.Analytics;
                    case "gtm":
                        return window.pys.GTM;
                    case "bing":
                        return window.pys.Bing;
                    case "pinterest":
                        return window.pys.Pinterest
                }
            };
        window.pys = window.pys || {}, window.pys.Facebook = _, window.pys.Analytics = l, window.pys.GTM = p, window.pys.Utils = d, window.pys.getPixelBySlag = u, window.getPixelBySlag = u, o(document).ready((function() {
            if (o("#pys_late_event").length > 0) {
                var t = o("#pys_late_event").attr("dir");
                if (t) try {
                    var i = JSON.parse(t)
                } catch (e) {
                    console.warn("Invalid JSON in pys_late_event dir attribute:", e)
                } else console.warn("pys_late_event dir attribute is undefined or empty");
                if (i)
                    for (var r in i) {
                        var s = {};
                        s[i[r].e_id] = [i[r]], n.staticEvents.hasOwnProperty(r) ? Object.assign(n.staticEvents[r], s) : n.staticEvents[r] = s
                    }
            }
            var c = d.setupPinterestObject(),
                m = d.setupBingObject();
            if (n.hasOwnProperty("cookie") && ((n.cookie.externalID_disabled_by_api || n.cookie.disabled_all_cookie) && Cookies.remove("pbid"), (n.cookie.disabled_advanced_form_data_cookie || n.cookie.disabled_all_cookie) && Cookies.remove("pys_advanced_form_data"), (n.cookie.disabled_landing_page_cookie || n.cookie.disabled_all_cookie) && (Cookies.remove("pys_landing_page"), Cookies.remove("last_pys_landing_page")), (n.cookie.disabled_trafficsource_cookie || n.cookie.disabled_all_cookie) && (Cookies.remove("pysTrafficSource"), Cookies.remove("last_pysTrafficSource")), (n.cookie.disabled_first_visit_cookie || n.cookie.disabled_all_cookie) && Cookies.remove("pys_first_visit"), (n.cookie.disabled_utmTerms_cookie || n.cookie.disabled_all_cookie) && (o.each(d.utmTerms, (function(e, t) {
                    Cookies.remove("pys_" + t)
                })), o.each(d.utmTerms, (function(e, t) {
                    Cookies.remove("last_pys_" + t)
                }))), (n.cookie.disabled_utmId_cookie || n.cookie.disabled_all_cookie) && (o.each(d.utmId, (function(e, t) {
                    Cookies.remove("pys_" + t)
                })), o.each(d.utmId, (function(e, t) {
                    Cookies.remove("last_pys_" + t)
                })))), n.gdpr.cookie_law_info_integration_enabled) {
                var g = Cookies.get("cookieyes-consent") ? ? Cookies.get("viewed_cookie_policy");
                void 0 !== g && (g === Cookies.get("cookieyes-consent") && "yes" == a("analytics") || g === Cookies.get("viewed_cookie_policy") && "yes" == g) && d.manageCookies()
            }
            if (n.gdpr.consent_magic_integration_enabled && "undefined" != typeof CS_Data ? (CS_Data.cs_script_cat.pys == CS_Data.cs_necessary_cat_id || 0 == CS_Data.cs_script_cat.pys || "yes" == Cookies.get("cs_enabled_cookie_term" + CS_Data.test_prefix + "_" + CS_Data.cs_script_cat.pys)) && d.manageCookies() : d.manageCookies(), d.setupGdprCallbacks(), n.dynamicEvents.hasOwnProperty("automatic_event_scroll")) {
                var y = function() {
                    var e = o(document).height() - o(window).height(),
                        t = !1;
                    if (n.dynamicEvents.hasOwnProperty("automatic_event_scroll"))
                        for (var a = Object.keys(n.dynamicEvents.automatic_event_scroll), i = 0; i < a.length; i++) {
                            var r = d.clone(n.dynamicEvents.automatic_event_scroll[a[i]]);
                            Math.round(e * r.scroll_percent / 100) < o(window).scrollTop() && (d.copyProperties(d.getRequestParams(), r.params), u(a[i]).onPageScroll(r), t = !0)
                        }
                    t && o(document).off("scroll", y)
                };
                o(document).on("scroll", y)
            }
            if (n.dynamicEvents.hasOwnProperty("automatic_event_time_on_page")) {
                var v = Object.keys(n.dynamicEvents.automatic_event_time_on_page),
                    b = n.dynamicEvents.automatic_event_time_on_page[v[0]].time_on_page;
                setTimeout((function() {
                    for (var e = 0; e < v.length; e++) {
                        var t = d.clone(n.dynamicEvents.automatic_event_time_on_page[v[e]]);
                        d.copyProperties(d.getRequestParams(), t.params), u(v[e]).onTime(t)
                    }
                }), 1e3 * b)
            }(n.dynamicEvents.hasOwnProperty("automatic_event_download") && o(document).onFirst("click", 'a, button, input[type="button"], input[type="submit"]', (function(e) {
                var t = o(this);
                if (n.dynamicEvents.hasOwnProperty("automatic_event_download")) {
                    var a = !1;
                    if (t.is("a")) {
                        var i = t.attr("href");
                        if ("string" != typeof i) return;
                        i = i.trim();
                        var r = d.getLinkExtension(i);
                        if (r.length > 0 && n.dynamicEvents.hasOwnProperty("automatic_event_download"))
                            for (var s = Object.keys(n.dynamicEvents.automatic_event_download), c = 0; c < s.length; c++) {
                                var _ = d.clone(n.dynamicEvents.automatic_event_download[s[c]]);
                                _.extensions.includes(r) && ("tiktok" == s[c] ? u(s[c]).fireEvent(tikEvent.name, _) : (n.enable_remove_download_url_param && (i = i.split("?")[0]), _.params.download_url = i, _.params.download_type = r, _.params.download_name = d.getLinkFilename(i), u(s[c]).onDownloadEvent(_)), a = !0)
                            }
                    }
                    if (a) return
                }
            })), o.each(n.triggerEventTypes, (function(e, t) {
                o.each(t, (function(t, a) {
                    switch (e) {
                        case "url_click":
                            break;
                        case "css_click":
                            d.setupCSSClickEvents(t, a);
                            break;
                        case "css_mouseover":
                            d.setupMouseOverClickEvents(t, a);
                            break;
                        case "scroll_pos":
                            d.setupScrollPosEvents(t, a);
                            break;
                        case "comment":
                            d.setupCommentEvents(t, a)
                    }
                }))
            })), n.woo.enabled && (n.dynamicEvents.hasOwnProperty("woo_add_to_cart_on_button_click") && n.woo.hasOwnProperty("addToCartCatchMethod") && "add_cart_js" === n.woo.addToCartCatchMethod && (o(".add_to_cart_button:not(.product_type_variable,.product_type_bundle,.single_add_to_cart_button)").on("click", (function(t) {
                var a = o(this).data("product_id");
                if (void 0 !== a) {
                    if (n.dynamicEvents.hasOwnProperty("woo_add_to_cart_on_button_click")) {
                        var i = e();
                        o.each(n.dynamicEvents.woo_add_to_cart_on_button_click, (function(e, t) {
                            t.eventID = i
                        }))
                    }
                    void 0 !== a && (_.onWooAddToCartOnButtonEvent(a), l.onWooAddToCartOnButtonEvent(a), p.onWooAddToCartOnButtonEvent(a), c.onWooAddToCartOnButtonEvent(a), m.onWooAddToCartOnButtonEvent(a))
                }
            })), o("body").onFirst("click", "button.single_add_to_cart_button,.single_add_to_cart_button", (function(t) {
                var a = o(this);
                if (!a.hasClass("disabled")) {
                    var i = a.closest("form"),
                        r = d.PRODUCT_SIMPLE;
                    if (0 !== i.length) {
                        var s, u;
                        if (i.hasClass("variations_form") ? r = d.PRODUCT_VARIABLE : i.hasClass("bundle_form") ? r = d.PRODUCT_BUNDLE : i.hasClass("grouped_form") && (r = d.PRODUCT_GROUPED), r === d.PRODUCT_GROUPED) u = 1, s = parseInt(i.find('*[name="add-to-cart"]').val());
                        else if (r === d.PRODUCT_VARIABLE) {
                            s = parseInt(i.find('*[name="add-to-cart"]').val()), (f = i.find('input[name="quantity"]')).length <= 0 && (f = i.find('select[name="quantity"]')), u = parseInt(f.val())
                        } else {
                            var f;
                            s = parseInt(i.find('*[name="add-to-cart"]').val()), (f = i.find('input[name="quantity"]')).length <= 0 && (f = i.find('select[name="quantity"]')), u = parseInt(f.val())
                        }
                        if (n.dynamicEvents.hasOwnProperty("woo_add_to_cart_on_button_click")) {
                            var g = e();
                            o.each(n.dynamicEvents.woo_add_to_cart_on_button_click, (function(e, t) {
                                t.eventID = g
                            }))
                        }
                        _.onWooAddToCartOnSingleEvent(s, u, r, i), l.onWooAddToCartOnSingleEvent(s, u, r, i), p.onWooAddToCartOnSingleEvent(s, u, r, i), c.onWooAddToCartOnSingleEvent(s, u, r, !1, i), m.onWooAddToCartOnSingleEvent(s, u, r, !1, i)
                    }
                }
            }))), n.dynamicEvents.hasOwnProperty("woo_remove_from_cart") && o("body").on("click", n.woo.removeFromCartSelector, (function(e) {
                var t = o(e.currentTarget).attr("href"),
                    a = new RegExp("[\\?&]remove_item=([^&#]*)").exec(t);
                if (null !== a) {
                    var i = a[1];
                    if (n.dynamicEvents.woo_remove_from_cart.hasOwnProperty(i)) {
                        var r = n.dynamicEvents.woo_remove_from_cart[i];
                        d.fireEventForAllPixel("onWooRemoveFromCartEvent", r)
                    }
                }
            }))), n.edd.enabled && (n.dynamicEvents.hasOwnProperty("edd_add_to_cart_on_button_click") && o("form.edd_download_purchase_form .edd-add-to-cart").on("click", (function(e) {
                var t, a, n = o(this),
                    i = n.closest("form"),
                    r = n.data("variablePrice"),
                    s = n.data("priceMode"),
                    d = [],
                    u = [];
                "yes" === r && "multi" === s ? (a = i.find('input[name="download_id"]').val(), o.each(i.find('input[name="edd_options[price_id][]"]:checked'), (function(e, t) {
                    d.push(a + "_" + o(t).val())
                })), o.each(d, (function(e, a) {
                    var o = a.split("_", 2);
                    void 0 !== (t = i.find('input[name="edd_download_quantity_' + o[1] + '"]').val()) ? u.push(t) : u.push(1)
                }))) : "yes" === r && "single" === s ? (a = i.find('input[name="download_id"]').val(), d.push(a + "_" + i.find('input[name="edd_options[price_id][]"]:checked').val()), void 0 !== (t = i.find('input[name="edd_download_quantity"]').val()) ? u.push(t) : u.push(1)) : (d.push(n.data("downloadId")), void 0 !== (t = i.find('input[name="edd_download_quantity"]').val()) ? u.push(t) : u.push(1)), o.each(d, (function(e, t) {
                    var a, o = parseInt(u[e]),
                        n = t.toString().split("_", 2);
                    2 === n.length && (t = n[0], a = n[1]), _.onEddAddToCartOnButtonEvent(t, a, o), l.onEddAddToCartOnButtonEvent(t, a, o), p.onEddAddToCartOnButtonEvent(t, a, o), c.onEddAddToCartOnButtonEvent(t, a, o), m.onEddAddToCartOnButtonEvent(t, a, o)
                }))
            })), n.dynamicEvents.hasOwnProperty("edd_remove_from_cart") && o("form#edd_checkout_cart_form .edd_cart_remove_item_btn").on("click", (function(e) {
                var t = o(this).attr("href");
                if (t) {
                    var a = t.substring(t.indexOf("=") + 1).charAt(0);
                    if (n.dynamicEvents.edd_remove_from_cart.hasOwnProperty(a)) {
                        var i = n.dynamicEvents.edd_remove_from_cart[a];
                        d.fireEventForAllPixel("onEddRemoveFromCartEvent", i)
                    }
                }
            }))), n.dynamicEvents.hasOwnProperty("automatic_event_comment") && o("form.comment-form").on("submit", (function() {
                if (n.dynamicEvents.hasOwnProperty("automatic_event_comment"))
                    for (var e = Object.keys(n.dynamicEvents.automatic_event_comment), t = 0; t < e.length; t++) {
                        var a = d.clone(n.dynamicEvents.automatic_event_comment[e[t]]);
                        d.copyProperties(d.getRequestParams(), a.params), u(e[t]).onCommentEvent(a)
                    }
            })), n.dynamicEvents.hasOwnProperty("automatic_event_form")) && (o(document).onFirst("submit", "form", (function(e) {
                var t = o(this);
                if (!t.hasClass("comment-form") && !t.hasClass("search-form") && "adminbarsearch" !== t.attr("id") && !(t.hasClass("woocommerce-product-search") || t.hasClass("cart") || t.hasClass("woocommerce-cart-form") || t.hasClass("woocommerce-shipping-calculator") || t.hasClass("checkout") || t.hasClass("checkout_coupon") || t.hasClass("edd_form") || t.hasClass("edd_download_purchase_form") || t.hasClass("wpcf7-form") || t.hasClass("forminator-custom-form") || t.hasClass("forminator_ajax") || t.hasClass("wpforms-form") || t.hasClass("wpforms-ajax-form") || t.parent().hasClass("nf-form-layout") || t.hasClass("frm-fluent-form") || n.enable_success_send_form)) {
                    var a = {
                        form_id: t.attr("id"),
                        form_class: t.attr("class"),
                        text: t.find('[type="submit"]').is("input") ? t.find('[type="submit"]').val() : t.find('[type="submit"]').text()
                    };
                    if (n.dynamicEvents.hasOwnProperty("automatic_event_form"))
                        for (var i = Object.keys(n.dynamicEvents.automatic_event_form), r = 0; r < i.length; r++) {
                            var s = d.clone(n.dynamicEvents.automatic_event_form[i[r]]);
                            "tiktok" === i[r] ? u(i[r]).fireEvent(s.name, s) : (d.copyProperties(a, s.params), d.copyProperties(d.getRequestParams(), s.params), u(i[r]).onFormEvent(s))
                        }
                }
            })), document.addEventListener("wpcf7mailsent", (function(e) {
                var t = e.detail.contactFormId;
                f(o(e.target), t)
            }), !1), o(document).on("forminator:form:submit:success", (function(e) {
                var t = o(e.target).find('input[name="form_id"]').val();
                f(o(e.target), t)
            })), o("form.wpforms-form").on("wpformsAjaxSubmitSuccess", (e => {
                var t = o(e.target).attr("data-formid");
                f(o(e.target), t)
            })), o(document).on("frmFormComplete", (function(e, t, a) {
                const n = o(t).find('input[name="form_id"]').val();
                f(o(e.target), n)
            })), o(document).onFirst("nfFormSubmitResponse", (function(e, t) {
                const a = t.response.data.form_id;
                f(o(e.target), a)
            })), o("form.frm-fluent-form").each((function() {
                o(this).on("fluentform_submission_success", (function(e) {
                    var t = o(this).attr("data-form_id");
                    f(o(e.target), t)
                }))
            })));
            d.loadPixels(), d.isCheckoutPage() && d.addCheckoutFields()
        }));
        var f = function(e, t) {
            var a = {
                form_id: t,
                text: e.find('[type="submit"]').is("input") ? e.find('[type="submit"]').val() : "" != e.find(".forminator-button-submit").text() ? e.find(".forminator-button-submit").text() : e.find('[type="submit"]').text()
            };
            if (n.dynamicEvents.hasOwnProperty("automatic_event_form"))
                for (var o = Object.keys(n.dynamicEvents.automatic_event_form), i = 0; i < o.length; i++) {
                    var r = n.dynamicEvents.automatic_event_form[o[i]];
                    "tiktok" === o[i] ? u(o[i]).fireEvent(r.name, r) : (d.copyProperties(a, r.params), d.copyProperties(d.getRequestParams(), r.params), u(o[i]).onFormEvent(r))
                }
        }
    }(jQuery, pysOptions)
})();